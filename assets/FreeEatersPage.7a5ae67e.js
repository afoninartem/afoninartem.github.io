import{c as C,aX as w,aY as A,a as F,h as Q,g as S,X as $,D as z,r as p,ao as _,s as x,m as q,p as f,y as h,ad as d,v as r,ap as V,t as i,aL as I,F as L,z as D,u as g,an as P,E,ae as M,q as N,B as R}from"./index.f5fd8453.js";import{Q as T}from"./QInput.a0295016.js";import{a as X,Q as b}from"./QCard.e313cb59.js";import"./use-form.5cb76cb7.js";import"./use-dark.c75d3aac.js";import"./use-file-dom-props.f5b136ee.js";import"./use-key-composition.6e338092.js";var O=C({name:"QCardActions",props:{...w,vertical:Boolean},setup(t,{slots:e}){const n=A(t),o=F(()=>`q-card__actions ${n.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>Q("div",{class:o.value},S(e.default))}});const y=$("freeEaters",()=>{const{user:t}=z(),e=p(null),n=async a=>{await _.post("/maintenance/free-eater/new",{name:a},{headers:{Authorization:`Bearer ${t.token}`}}).then(s=>{console.log(s),l()})},o=async a=>{await _.delete("/maintenance/free-eater/delete",{headers:{Authorization:`Bearer ${t.token}`,RemoveFreeEater:a}}).then(s=>{console.log(s),l()}).catch(s=>console.log(s))},l=async()=>{await _.get("/maintenance/free-eater/all",{headers:{Authorization:`Bearer ${t.token}`}}).then(a=>{console.log(a),e.value=a.data.data})},m=F(()=>e.value);return{addFreeEater:n,getFreeEaters:l,freeEatersList:m,deleteFreeEater:o}});const U={class:"free-eaters"},Y=d("h4",null,"\u041E\u0431\u0435\u0434\u0430\u044E\u0442 \u0431\u0435\u0441\u043F\u043B\u0430\u0442\u043D\u043E",-1),j={class:"free-eaters__form"},G={class:"free-eaters__list"},H={class:"q-pa-md row items-start q-gutter-md"},J={class:"text-h6 name"},ne={__name:"FreeEatersPage",setup(t){const e=p(null),n=p({width:"500px"}),{addFreeEater:o,getFreeEaters:l,deleteFreeEater:m}=y(),{freeEatersList:a}=x(y()),s=v=>{o(v),k()},k=()=>{e.value=null};return q(()=>{l()}),(v,u)=>(f(),h("div",U,[Y,d("div",j,[r(T,{style:I(n.value),modelValue:e.value,"onUpdate:modelValue":u[1]||(u[1]=c=>e.value=c),label:"\u0421\u043A\u043E\u043F\u0438\u0440\u0443\u0439\u0442\u0435 \u0424\u0418\u041E \u0438\u0437 \u0441\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0438\u043A\u0430 1\u04217"},V({_:2},[e.value&&e.value.length?{name:"append",fn:i(()=>[r(P,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:i(()=>[r(E,{color:"secondary",icon:"person_add",onClick:u[0]||(u[0]=M(c=>s(e.value),["prevent"]))})]),_:1})]),key:"0"}:void 0]),1032,["style","modelValue"])]),d("div",G,[d("div",H,[(f(!0),h(L,null,D(g(a),(c,B)=>(f(),N(b,{class:"my-card",key:`free-eater-${B}`},{default:i(()=>[r(X,{horizontal:""},{default:i(()=>[d("div",J,R(c.name),1),r(O,{align:"center"},{default:i(()=>[r(E,{flat:"",color:"negative",icon:"delete",onClick:K=>g(m)(c.ID)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])]))}};export{ne as default};
