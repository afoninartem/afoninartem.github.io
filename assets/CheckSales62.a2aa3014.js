import{A,C as q,r as m,j as k,ao as I,_ as U,H as c,M as b,ad as u,K as e,J as o,Q as D,B as N,G as i,I as h,ae as j,T as R,O as g,q as S,L as p,P as L,ap as V}from"./index.7872af03.js";import{d as z,c as $,Q as f,a as B}from"./format.8c17241c.js";import{Q as F}from"./QFile.003bf04d.js";import{A as E}from"./ArtisLoader.20fad7d2.js";import"./use-dark.cb970ae1.js";import"./QChip.a3cac597.js";import"./use-form.5e192c51.js";import"./use-file-dom-props.9b53cacd.js";import"./QSpinnerCube.84f1e550.js";const Q=A("report62",()=>{const{user:d}=q(),t=m(null),r=m(null),l=m(null),y=m(["\u041A\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0438","\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043D\u0435\u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0439"]),v=(a,_)=>{_=="7"?t.value=a:r.value=a},n=k(()=>({info1C7:t.value,info1C8:r.value})),T=async()=>{if(!n.value.info1C7||!n.value.info1C8)return;const a=new FormData,_=new FormData;a.append("info1C7",n.value.info1C7),_.append("info1C8",n.value.info1C8),await I.post("/upload/report62-1C8",_,{headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"multipart/form-data"}}).then(s=>console.log(s.data)).catch(s=>console.log(s)),await I.post("/upload/report62-1C7",a,{headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"multipart/form-data"}}).then(s=>{l.value=s.data.data,console.log(s.data)}).catch(s=>console.log(s))},X=async()=>{await I.get("/download/report62",{headers:{Authorization:`Bearer ${d.token}`},responseType:"blob"}).then(a=>{const _=a.headers.get("Content-Type");console.log(_);const s="\u041E\u0442\u0447\u0435\u0442 \u043F\u043E \u0441\u0432\u0435\u0440\u043A\u0435 62.xlsx";console.log(s);const w=URL.createObjectURL(a.data),C=document.createElement("a");C.href=w,C.download=s,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w)}).catch(a=>console.log(a))},x=k(()=>l.value?l.value.final:null);return{uploadFile:v,upload:T,saveXLSX:X,files:n,res:x,resTableHeader:y}}),H={setup(){const d=m(null),t="7",{uploadFile:r}=Q();return{file:d,mode:t,uploadFile:r}}},O={class:"q-pa-md"},M={class:"q-gutter-md row items-start"};function G(d,t,r,l,y,v){return c(),b("div",O,[u("div",M,[e(F,{modelValue:l.file,"onUpdate:modelValue":[t[0]||(t[0]=n=>l.file=n),t[1]||(t[1]=n=>l.uploadFile(l.file,l.mode))],label:"1C7",filled:"","use-chips":"",accept:".xlsx",style:{"max-width":"300px"}},{prepend:o(()=>[e(D,{name:"attach_file"})]),_:1},8,["modelValue"])])])}var J=U(H,[["render",G]]);const K={setup(){const d=m(null),t="8",{uploadFile:r}=Q();return{file:d,mode:t,uploadFile:r}}},P={class:"q-pa-md"},W={class:"q-gutter-md row items-start"};function Y(d,t,r,l,y,v){return c(),b("div",P,[u("div",W,[e(F,{modelValue:l.file,"onUpdate:modelValue":[t[0]||(t[0]=n=>l.file=n),t[1]||(t[1]=n=>l.uploadFile(l.file,l.mode))],label:"1C8",filled:"","use-chips":"",accept:".xlsx",style:{"max-width":"300px"}},{prepend:o(()=>[e(D,{name:"attach_file"})]),_:1},8,["modelValue"])])])}var Z=U(K,[["render",Y]]);const ee={class:"check-62"},te=u("h4",{class:"check-62__title"},"\u0421\u0432\u0435\u0440\u043A\u0430 62",-1),oe={key:0,class:"check-62__content"},ae=u("div",{class:"check-62__description"},[u("p",null,"\u0414\u043B\u044F \u0441\u0432\u0435\u0440\u043A\u0438 \u043D\u0443\u0436\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0434\u0432\u0430 \u0444\u0430\u0439\u043B\u0430:"),u("p",null,'\u0438\u0437 1\u04217 \u043E\u0442\u0447\u0435\u0442 "\u0420\u0430\u0441\u0447\u0435\u0442\u044B \u0441 \u043A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442\u0430\u043C\u0438",'),u("p",null,'\u0438\u0437 1\u04218 \u043E\u0442\u0447\u0435\u0442 "\u041E\u0431\u043E\u0440\u043E\u0442\u043D\u043E-\u0441\u0430\u043B\u044C\u0434\u043E\u0432\u0430\u044F \u0432\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C \u043F\u043E \u0441\u0447\u0435\u0442\u0443 62.02".'),u("p",null,"\u041F\u0435\u0440\u0435\u0434 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u043E\u0439 \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u0425\u0435\u043B\u043F\u0435\u0440 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0445 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 XLSX."),u("p",null,"\u0414\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u043D\u0430\u0434\u043E \u0438\u0445 \u043E\u0442\u043A\u0440\u044B\u0442\u044C, \u043D\u0430\u0436\u0430\u0442\u044C \u0424\u0430\u0439\u043B - \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A - \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u043E\u0440\u043C\u0430\u0442 XLSX.")],-1),le={class:"check-62__upload"},se={key:2,class:"result",ref:"resultDiv",id:"resultDiv"},me={__name:"CheckSales62",setup(d){const t=m(!1),{files:r,res:l,resTableHeader:y}=N(Q()),{upload:v,saveXLSX:n}=Q(),T=()=>{t.value=!0},X=k(()=>Boolean(r.value.info1C7&&r.value.info1C8)),x=k(()=>t.value&&!a.value),a=k(()=>l.value);return(_,s)=>(c(),b("div",ee,[te,!i(x)&&!i(a)?(c(),b("section",oe,[ae,u("div",le,[e(J),e(Z)]),i(X)?(c(),h(R,{key:0,class:"btn-fixed-width",color:"secondary",label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",icon:"upload",onClick:s[0]||(s[0]=j(w=>{i(v)(),T()},["prevent"]))})):g("",!0)])):g("",!0),i(x)?(c(),h(E,{key:1})):g("",!0),i(a)?(c(),b("div",se,[e(z,{bordered:"",separator:""},{default:o(()=>[S((c(),h(B,{clickable:""},{default:o(()=>[e($,null,{default:o(()=>[e(f,null,{default:o(()=>[p("\u0421\u0430\u043B\u043E\u043D\u044B - "+L(i(a).shopSumIssues),1)]),_:1}),e(f,{caption:""},{default:o(()=>[p("\u0441 \u0440\u0430\u0441\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F\u043C\u0438 \u0432 \u0438\u0442\u043E\u0433\u043E\u0432\u043E\u0439 \u0441\u0443\u043C\u043C\u0435")]),_:1})]),_:1})]),_:1})),[[V]]),S((c(),h(B,{clickable:""},{default:o(()=>[e($,null,{default:o(()=>[e(f,null,{default:o(()=>[p("\u0421\u0430\u043B\u043E\u043D\u043E\u0432 \u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E - "+L(i(a).shopUnmatchedIssues),1)]),_:1}),e(f,{caption:""},{default:o(()=>[p("\u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u043E\u0434\u043D\u043E\u0439 \u0431\u0430\u0437\u0435 (1\u04217 \u0438\u043B\u0438 1\u04218)")]),_:1})]),_:1})]),_:1})),[[V]]),S((c(),h(B,{clickable:""},{default:o(()=>[e($,null,{default:o(()=>[e(f,null,{default:o(()=>[p("\u041A\u043B\u0438\u0435\u043D\u0442\u043E\u0432 \u0438\u0437 1\u04217 - "+L(i(a).clients7),1)]),_:1}),e(f,{caption:""},{default:o(()=>[p("\u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E \u0441 1\u04218")]),_:1})]),_:1})]),_:1})),[[V]]),S((c(),h(B,{clickable:""},{default:o(()=>[e($,null,{default:o(()=>[e(f,null,{default:o(()=>[p("\u041A\u043B\u0438\u0435\u043D\u0442\u043E\u0432 \u0438\u0437 1\u04218 - "+L(i(a).clients8),1)]),_:1}),e(f,{caption:""},{default:o(()=>[p("\u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E \u0441 1\u04217")]),_:1})]),_:1})]),_:1})),[[V]])]),_:1}),e(R,{color:"primary","icon-right":"archive",label:"XLSX",style:{width:"100%"},"no-caps":"",onClick:s[1]||(s[1]=w=>i(n)())})],512)):g("",!0)]))}};export{me as default};
