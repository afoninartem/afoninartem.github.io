import{A as f,C as g,r as w,k as C,ao as m,B as T,H as c,M as r,ad as t,K as h,G as i,R as v,N as B,O as k,T as R,P as b}from"./index.1a2ebdf4.js";import{_ as A}from"./MultiFilesUpload.192aa562.js";import"./QLinearProgress.c033aad4.js";import"./use-dark.70770810.js";import"./QTooltip.83773f66.js";import"./position-engine.61fd986d.js";import"./selection.b12b0e35.js";import"./use-form.e7390af2.js";import"./scroll.b919e208.js";import"./QChip.9efb0dd2.js";import"./QFile.e5c3b740.js";import"./use-file-dom-props.2cb444a5.js";import"./format.3e32b8d9.js";const y=f("report60",()=>{const{user:p}=g(),n=w(null),u=C(()=>n.value?n.value.split(`
`):n.value);return{sendToBackend:async e=>{const s=new FormData;for(let o=0;o<e.length;o++)s.append("r60",e[o]);await m.post("/accounting/report60/upload",s,{headers:{Authorization:`Bearer ${p.token}`,"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o),n.value=o.data.data}).catch(o=>console.log(o))},uploadResponse:u,download:async()=>{await m.get("/accounting/report60/download",{headers:{Authorization:`Bearer ${p.token}`},responseType:"blob"}).then(e=>{const s=e.headers.get("Content-Type");console.log(s);const o="\u041E\u0442\u0447\u0435\u0442 \u043F\u043E \u0441\u0432\u0435\u0440\u043A\u0435 60.xlsx";console.log(o);const d=URL.createObjectURL(e.data),a=document.createElement("a");a.href=d,a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(d)}).catch(e=>console.log(e))}}});const L={class:"check-60"},S=t("h4",null,"\u0421\u0432\u0435\u0440\u043A\u0430 \u043F\u043E \u0441\u0447\u0435\u0442\u0443 60",-1),x=t("section",{class:"description"},[t("p",null,"\u0412\u044B\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0420\u0430\u0441\u0447\u0435\u0442\u044B \u0441 \u041A\u0410 \u0438\u0437 1\u04217 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 TXT"),t("p",null,"\u0412\u044B\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u041E\u0421\u0412 \u043F\u043E \u0441\u0447\u0435\u0442\u0443 60 \u0438\u0437 1\u04218")],-1),N={class:"upload"},U={class:"upload__inputs"},$={key:0,class:"upload__response"},E={class:"download"},O={key:0,class:"download__btn"},I={__name:"CheckCA60",setup(p){const{sendToBackend:n,download:u}=y(),{uploadResponse:l}=T(y()),_=async(...e)=>{await n(e)};return(e,s)=>(c(),r("div",L,[S,x,t("section",N,[t("section",U,[h(A,{onSendMessage:_})]),i(l)?(c(),r("section",$,[(c(!0),r(v,null,B(i(l),(o,d)=>(c(),r("p",{key:`ur-${d}`},b(o),1))),128))])):k("",!0)]),t("section",E,[i(l)?(c(),r("section",O,[h(R,{color:"secondary",label:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C XLSX",icon:"download",onClick:i(u)},null,8,["onClick"])])):k("",!0)])]))}};export{I as default};
