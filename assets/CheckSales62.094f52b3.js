import{A,C as q,r as h,j as k,ao as I,_ as R,H as r,M as b,ad as u,K as t,J as o,Q as D,I as m,B as N,G as d,ae as z,T as U,O as S,q as g,L as p,P as $,ap as L}from"./index.ff7a8a19.js";import{d as j,c as Q,Q as f,a as V}from"./format.a248705a.js";import{Q as F}from"./QFile.1a9d1dd1.js";import{Q as E}from"./QSpinnerCube.b9424921.js";import"./use-dark.8b14d5d8.js";import"./QChip.21073af2.js";import"./use-form.2a225247.js";import"./use-file-dom-props.8489e076.js";const B=A("report62",()=>{const{user:c}=q(),e=h(null),i=h(null),l=h(null),y=h(["\u041A\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0438","\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043D\u0435\u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0439"]),v=(a,_)=>{_=="7"?e.value=a:i.value=a},s=k(()=>({info1C7:e.value,info1C8:i.value})),T=async()=>{if(!s.value.info1C7||!s.value.info1C8)return;const a=new FormData,_=new FormData;a.append("info1C7",s.value.info1C7),_.append("info1C8",s.value.info1C8),await I.post("/upload/report62-1C8",_,{headers:{Authorization:`Bearer ${c.token}`,"Content-Type":"multipart/form-data"}}).then(n=>console.log(n.data)).catch(n=>console.log(n)),await I.post("/upload/report62-1C7",a,{headers:{Authorization:`Bearer ${c.token}`,"Content-Type":"multipart/form-data"}}).then(n=>{l.value=n.data.data,console.log(n.data)}).catch(n=>console.log(n))},X=async()=>{await I.get("/download/report62",{headers:{Authorization:`Bearer ${c.token}`},responseType:"blob"}).then(a=>{const _=a.headers.get("Content-Type");console.log(_);const n="\u041E\u0442\u0447\u0435\u0442 \u043F\u043E \u0441\u0432\u0435\u0440\u043A\u0435 62.xlsx";console.log(n);const w=URL.createObjectURL(a.data),C=document.createElement("a");C.href=w,C.download=n,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w)}).catch(a=>console.log(a))},x=k(()=>l.value?l.value.final:null);return{uploadFile:v,upload:T,saveXLSX:X,files:s,res:x,resTableHeader:y}}),H={setup(){const c=h(null),e="7",{uploadFile:i}=B();return{file:c,mode:e,uploadFile:i}}},O={class:"q-pa-md"},M={class:"q-gutter-md row items-start"};function G(c,e,i,l,y,v){return r(),b("div",O,[u("div",M,[t(F,{modelValue:l.file,"onUpdate:modelValue":[e[0]||(e[0]=s=>l.file=s),e[1]||(e[1]=s=>l.uploadFile(l.file,l.mode))],label:"1C7",filled:"","use-chips":"",accept:".xlsx",style:{"max-width":"300px"}},{prepend:o(()=>[t(D,{name:"attach_file"})]),_:1},8,["modelValue"])])])}var J=R(H,[["render",G]]);const K={setup(){const c=h(null),e="8",{uploadFile:i}=B();return{file:c,mode:e,uploadFile:i}}},P={class:"q-pa-md"},W={class:"q-gutter-md row items-start"};function Y(c,e,i,l,y,v){return r(),b("div",P,[u("div",W,[t(F,{modelValue:l.file,"onUpdate:modelValue":[e[0]||(e[0]=s=>l.file=s),e[1]||(e[1]=s=>l.uploadFile(l.file,l.mode))],label:"1C8",filled:"","use-chips":"",accept:".xlsx",style:{"max-width":"300px"}},{prepend:o(()=>[t(D,{name:"attach_file"})]),_:1},8,["modelValue"])])])}var Z=R(K,[["render",Y]]);const ee={};function te(c,e){return r(),m(E,{color:"primary",size:"5.5em"})}var oe=R(ee,[["render",te]]);const ae={class:"check-62"},le=u("h4",{class:"check-62__title"},"\u0421\u0432\u0435\u0440\u043A\u0430 62",-1),ne={key:0,class:"check-62__content"},se=u("div",{class:"check-62__description"},[u("p",null,"\u0414\u043B\u044F \u0441\u0432\u0435\u0440\u043A\u0438 \u043D\u0443\u0436\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0434\u0432\u0430 \u0444\u0430\u0439\u043B\u0430:"),u("p",null,'\u0438\u0437 1\u04217 \u043E\u0442\u0447\u0435\u0442 "\u0420\u0430\u0441\u0447\u0435\u0442\u044B \u0441 \u043A\u043E\u043D\u0442\u0440\u0430\u0433\u0435\u043D\u0442\u0430\u043C\u0438",'),u("p",null,'\u0438\u0437 1\u04218 \u043E\u0442\u0447\u0435\u0442 "\u041E\u0431\u043E\u0440\u043E\u0442\u043D\u043E-\u0441\u0430\u043B\u044C\u0434\u043E\u0432\u0430\u044F \u0432\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C \u043F\u043E \u0441\u0447\u0435\u0442\u0443 62.01".'),u("p",null,"\u041F\u0435\u0440\u0435\u0434 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u043E\u0439 \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u0425\u0435\u043B\u043F\u0435\u0440 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0445 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 XLSX."),u("p",null,"\u0414\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u043D\u0430\u0434\u043E \u0438\u0445 \u043E\u0442\u043A\u0440\u044B\u0442\u044C, \u043D\u0430\u0436\u0430\u0442\u044C \u0424\u0430\u0439\u043B - \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A - \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u043E\u0440\u043C\u0430\u0442 XLSX.")],-1),re={class:"check-62__upload"},ce={key:2,class:"result",ref:"resultDiv",id:"resultDiv"},ve={__name:"CheckSales62",setup(c){const e=h(!1),{files:i,res:l,resTableHeader:y}=N(B()),{upload:v,saveXLSX:s}=B(),T=()=>{e.value=!0},X=k(()=>Boolean(i.value.info1C7&&i.value.info1C8)),x=k(()=>e.value&&!a.value),a=k(()=>l.value);return(_,n)=>(r(),b("div",ae,[le,!d(x)&&!d(a)?(r(),b("section",ne,[se,u("div",re,[t(J),t(Z)]),d(X)?(r(),m(U,{key:0,class:"btn-fixed-width",color:"secondary",label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",icon:"upload",onClick:n[0]||(n[0]=z(w=>{d(v)(),T()},["prevent"]))})):S("",!0)])):S("",!0),d(x)?(r(),m(oe,{key:1})):S("",!0),d(a)?(r(),b("div",ce,[t(j,{bordered:"",separator:""},{default:o(()=>[g((r(),m(V,{clickable:""},{default:o(()=>[t(Q,null,{default:o(()=>[t(f,null,{default:o(()=>[p("\u0421\u0430\u043B\u043E\u043D\u044B - "+$(d(a).shopSumIssues),1)]),_:1}),t(f,{caption:""},{default:o(()=>[p("\u0441 \u0440\u0430\u0441\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F\u043C\u0438 \u0432 \u0438\u0442\u043E\u0433\u043E\u0432\u043E\u0439 \u0441\u0443\u043C\u043C\u0435")]),_:1})]),_:1})]),_:1})),[[L]]),g((r(),m(V,{clickable:""},{default:o(()=>[t(Q,null,{default:o(()=>[t(f,null,{default:o(()=>[p("\u0421\u0430\u043B\u043E\u043D\u043E\u0432 \u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E - "+$(d(a).shopUnmatchedIssues),1)]),_:1}),t(f,{caption:""},{default:o(()=>[p("\u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u043E\u0434\u043D\u043E\u0439 \u0431\u0430\u0437\u0435 (1\u04217 \u0438\u043B\u0438 1\u04218)")]),_:1})]),_:1})]),_:1})),[[L]]),g((r(),m(V,{clickable:""},{default:o(()=>[t(Q,null,{default:o(()=>[t(f,null,{default:o(()=>[p("\u041A\u043B\u0438\u0435\u043D\u0442\u043E\u0432 \u0438\u0437 1\u04217 - "+$(d(a).clients7),1)]),_:1}),t(f,{caption:""},{default:o(()=>[p("\u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E \u0441 1\u04218")]),_:1})]),_:1})]),_:1})),[[L]]),g((r(),m(V,{clickable:""},{default:o(()=>[t(Q,null,{default:o(()=>[t(f,null,{default:o(()=>[p("\u041A\u043B\u0438\u0435\u043D\u0442\u043E\u0432 \u0438\u0437 1\u04218 - "+$(d(a).clients8),1)]),_:1}),t(f,{caption:""},{default:o(()=>[p("\u043D\u0435 \u0441\u043E\u043F\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E \u0441 1\u04217")]),_:1})]),_:1})]),_:1})),[[L]])]),_:1}),t(U,{color:"primary","icon-right":"archive",label:"XLSX",style:{width:"100%"},"no-caps":"",onClick:n[1]||(n[1]=w=>d(s)())})],512)):S("",!0)]))}};export{ve as default};
