import{Z as B,D as Q,r as p,a as w,aq as f,s as C,m as S,p as _,y as h,af as l,v as r,ar as x,t as o,aQ as z,F as $,z as A,u as g,ap as V,E,ag as q,q as I,B as D}from"./index.ba691094.js";import{Q as L}from"./QInput.245f7e6f.js";import{Q as M}from"./QCardActions.60681e0e.js";import{a as N,Q as P}from"./QCard.7c7b56c9.js";import"./private.use-form.4daa300e.js";import"./use-dark.f7e749a8.js";import"./use-file-dom-props.ced5b6e2.js";import"./use-key-composition.852cbf90.js";const y=B("freeEaters",()=>{const{user:i}=Q(),e=p(null),d=async a=>{await f.post("/maintenance/free-eater/new",{name:a},{headers:{Authorization:`Bearer ${i.token}`}}).then(t=>{console.log(t),s()})},u=async a=>{await f.delete("/maintenance/free-eater/delete",{headers:{Authorization:`Bearer ${i.token}`,RemoveFreeEater:a}}).then(t=>{console.log(t),s()}).catch(t=>console.log(t))},s=async()=>{await f.get("/maintenance/free-eater/all",{headers:{Authorization:`Bearer ${i.token}`}}).then(a=>{console.log(a),e.value=a.data.data})},m=w(()=>e.value);return{addFreeEater:d,getFreeEaters:s,freeEatersList:m,deleteFreeEater:u}});const R={class:"free-eaters"},T=l("h4",null,"\u041E\u0431\u0435\u0434\u0430\u044E\u0442 \u0431\u0435\u0441\u043F\u043B\u0430\u0442\u043D\u043E",-1),b={class:"free-eaters__form"},O={class:"free-eaters__list"},U={class:"q-pa-md row items-start q-gutter-md"},Z={class:"text-h6 name"},ae={__name:"FreeEatersPage",setup(i){const e=p(null),d=p({width:"500px"}),{addFreeEater:u,getFreeEaters:s,deleteFreeEater:m}=y(),{freeEatersList:a}=C(y()),t=v=>{u(v),F()},F=()=>{e.value=null};return S(()=>{s()}),(v,c)=>(_(),h("div",R,[T,l("div",b,[r(L,{style:z(d.value),modelValue:e.value,"onUpdate:modelValue":c[1]||(c[1]=n=>e.value=n),label:"\u0421\u043A\u043E\u043F\u0438\u0440\u0443\u0439\u0442\u0435 \u0424\u0418\u041E \u0438\u0437 \u0441\u043F\u0440\u0430\u0432\u043E\u0447\u043D\u0438\u043A\u0430 1\u04217"},x({_:2},[e.value&&e.value.length?{name:"append",fn:o(()=>[r(V,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:o(()=>[r(E,{color:"secondary",icon:"person_add",onClick:c[0]||(c[0]=q(n=>t(e.value),["prevent"]))})]),_:1})]),key:"0"}:void 0]),1032,["style","modelValue"])]),l("div",O,[l("div",U,[(_(!0),h($,null,A(g(a),(n,k)=>(_(),I(P,{class:"my-card",key:`free-eater-${k}`},{default:o(()=>[r(N,{horizontal:""},{default:o(()=>[l("div",Z,D(n.name),1),r(M,{align:"center"},{default:o(()=>[r(E,{flat:"",color:"negative",icon:"delete",onClick:j=>g(m)(n.ID)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])]))}};export{ae as default};
