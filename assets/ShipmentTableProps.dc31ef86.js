import{X as x,D as B,r as $,a as k,ao as D,_ as L,p as a,y as l,ad as e,F as h,z as m,ae as T,B as o,A as S,u as c,x as C,aL as I,aM as N,aN as z}from"./index.33f0d6f2.js";import{u as A}from"./leftDrawer-store.97c02881.js";const F=x("shipment",()=>{const{user:t}=B(),{closeLeftDrawer:p}=A(),n=$(null),_=k(()=>(console.log(n.value),n.value)),f=()=>{var s;return(s=n.value)!=null&&s.spbnn.exists?"spbnn":"msc"},b=[{label:"\u2116",field:"num"},{label:"\u041C\u0430\u0448\u0438\u043D\u0430",field:"transport"},{label:"\u0421\u0430\u043B\u043E\u043D",field:"shop"},{label:"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B",field:"materials"},{label:"\u041F/\u041F",field:"shipment_places"},{label:"\u0417\u0430\u044F\u0432\u043A\u0438",field:"orders"}],i=k(()=>b.map(s=>({name:s.field,required:!0,label:s.label,field:s.field,align:"left",sortable:!1}))),v=k(()=>n.value.table);return{shipment:_,columns:i,rows:v,show:async()=>{await D.get("/warehouse/shipment/show",{headers:{Authorization:`Bearer ${t.token}`}}).then(s=>n.value=s.data.data).catch(s=>console.log(s))},print:async()=>{p(),setTimeout(()=>window.print(),1)},defaultRegion:f}});const w=t=>(N("data-v-1be50bc6"),t=t(),z(),t),P={key:0,class:"shipment"},V={class:"region-btns"},M=["onClick"],R={class:"shipment__info"},q=w(()=>e("thead",null,[e("tr",null,[e("th",{class:"header rownum"},"\u2116"),e("th",{class:"header transport"},"\u041C\u0430\u0448\u0438\u043D\u0430"),e("th",{class:"header shop"},"\u0421\u0430\u043B\u043E\u043D"),e("th",{class:"header materials"},"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B"),e("th",{class:"header places"},"\u041F/\u041F"),e("th",{class:"header orders"},"\u0417\u0430\u044F\u0432\u043A\u0438")])],-1)),E=w(()=>e("td",{class:"rownum"},null,-1)),X={class:"transport"},j={class:"shop"},G={class:"materials"},H=w(()=>e("td",null,null,-1)),J={class:"orders"},K={__name:"ShipmentTableProps",props:["shipment"],setup(t){const{defaultRegion:p}=F();let n=$(p());const _={msc:"\u041C\u043E\u0441\u043A\u0432\u0430 \u0438 \u041F\u0440\u043E\u0447\u0438\u0435 \u0440\u0435\u0433\u0438\u043E\u043D\u044B",spb:"\u0421\u0430\u043D\u043A\u0442-\u041F\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",nn:"\u041D\u0438\u0436\u043D\u0438\u0439 \u041D\u043E\u0432\u0433\u043E\u0440\u043E\u0434 \u0438 \u043F\u0440\u0438\u043B\u0435\u0436\u0430\u0449\u0438\u0435 \u0440\u0435\u0433\u0438\u043E\u043D\u044B",spbnn:"\u0421\u041F\u0411 + \u041D\u041D"},f=i=>{n.value=i},b=i=>i.length==0?"#fff":`backgound-color: ${i.toLowerCase().includes("213 \u0441\u043E\u0431\u0440\u0430\u043D")?"#53DF00":null}`;return(i,v)=>t.shipment?(a(),l("div",P,[e("div",V,[(a(!0),l(h,null,m(t.shipment,(u,r)=>(a(),l("div",{class:"region-btns__btn",key:u},[t.shipment[r].exists?(a(),l("button",{key:0,onClick:T(s=>f(r),["prevent"])},o(_[r]),9,M)):S("",!0)]))),128))]),e("div",R,[e("p",null,"\u041E\u0442\u0433\u0440\u0443\u0437\u043A\u0430 \u043D\u0430 "+o(t.shipment[c(n)].shipment_info.shipment_date),1),e("p",null,"\u0421\u0431\u043E\u0440\u043A\u0430 "+o(t.shipment[c(n)].shipment_info.gathering_date),1),e("p",null,"\u041D\u0430\u0447\u0430\u043B\u043E \u0440\u0430\u0431\u043E\u0442\u044B "+o(t.shipment[c(n)].shipment_info.start_time),1),e("p",null,"\u0420\u0435\u0433\u0438\u043E\u043D: "+o(t.shipment[c(n)].shipment_info.gathering_date),1),e("p",null,"\u0417\u0430\u044F\u0432\u043E\u043A: "+o(t.shipment[c(n)].shipment_info.orders_number),1),e("p",null,"\u0421\u0430\u043B\u043E\u043D\u043E\u0432: "+o(t.shipment[c(n)].shipment_info.shops_number),1)]),e("table",null,[q,(a(!0),l(h,null,m(t.shipment[c(n)].shipment_data.transport,(u,r)=>(a(),l("tbody",{class:"table-body",key:`${r}`},[(a(!0),l(h,null,m(u.shops,(s,g)=>(a(),l("tr",{key:`${r}${g}`},[E,e("td",X,o(u.name),1),e("td",j,o(s.name),1),e("td",null,[e("div",G,[(a(!0),l(h,null,m(s.materials,(d,y)=>(a(),l("div",{class:"material",key:`${r}${g}${y}`},[e("p",null,[C(o(d.name)+" - ",1),e("strong",null,o(d.amount),1)])]))),128))])]),H,e("td",null,[e("div",J,[(a(!0),l(h,null,m(s.orders,(d,y)=>(a(),l("p",{key:`${r}${g}${y}`,style:I(b(d.comment))},o(d.number),5))),128))])])]))),128))]))),128))])])):S("",!0)}};var U=L(K,[["__scopeId","data-v-1be50bc6"]]);export{U as S,F as u};
